"window.%s = new fors.ElectronicSignature('%s', '%s');"

    
    <script>
        function onLoadBody() {
            console.log("on load page")
            try {
                // Создание объектов КриптоПро ЭЦП Browser plug-in
var canPromise = !!window.Promise;
if(canPromise) {
    cadesplugin.then(function () {
        // прикладной код
        console.log("plugin успешно загружен")
        var oStore =  cadesplugin.CreateObject("CAdESCOM.Store");
var oSigner =  cadesplugin.CreateObject("CAdESCOM.CPSigner");
var oPrivateKey =  cadesplugin.CreateObject("X509Enrollment.CX509PrivateKey");
    },
    function(error) {
        // сообщение об ошибке
        console.log("ошибка загрузки плагина");
        throw error;
    });
} else {
    window.addEventListener("message", function (event){
        if (event.data == "cadesplugin_loaded") {
            // прикладной код
            console.log("plugin успешно загружен")
        } else if(event.data == "cadesplugin_load_error") {
            // сообщение об ошибке
            console.log("ошибка загрузки плагина");
        }
        },
    false);
    window.postMessage("cadesplugin_echo_request", "*");
}                
// window.vue_cades = new fors.ElectronicSignature('t1', 't2');
                // fors.ElectronicSignature.prototype.getCertificate(null, null, null);
            } catch(e) {
                const textarea = document.getElementById('text');
                textarea.value += e;
                textarea.value += '\n';
                throw e;
            }
        }
    </script>